{% extends 'partials/_base.html' %}

{% block title %}
  {{ user['username'] }}
{% endblock %}

{% block body %}
  <div class="side-by-side">
    <div class="w35 padding-20">
      <div class="center">
        <img id="profile-picture" src="{{ url_for('static', filename='images/profile-picture.png') }}" alt="">
        <h1>{{ user['username'] }}</h1>
      </div>

      <!-- get count for friends and posts -->
      <ul class="">
        <li>Posts: 0</li>
        <li>Friends: 0</li>
      </ul>

      {% if (not is_owner) and (not is_friends) %}
        {% if request_status == 'pending' %}
          <form action="{{ url_for('friends_bp.delete_friend_request') }}" method="POST">
            <input type="hidden" name="username" value="{{ user['username'] }}">
            <input type="submit" class="button-add-friend" value="Cancel Request">
          </form>
        {% elif request_status == 'incoming' %}
          <form action="{{ url_for('friends_bp.create_friend_request') }}" method="POST">
            <input type="hidden" name="username" value="{{ user['username'] }}">
            <input type="submit" class="button-add-friend" value="Accept Request">
          </form>
        {% else %}
          <form action="{{ url_for('friends_bp.create_friend_request') }}" method="POST">
            <input type="hidden" name="username" value="{{ user['username'] }}">
            <input type="submit" class="button-add-friend" value="Add as Friend">
          </form>
        {% endif %}
      {% endif %}
    </div>

    <div class="flex-posts">
      <div class="posts">
        {% for post in posts %}
          <a href="{{ url_for('users_bp.view_post', username=user['username'], post_id=post['_id']) }}" class="for-grid">
            <div class="single-post">
              <!-- <h5>{{post['message']}}</h5> -->
              <!-- <p>{{post.created_on}}</p> -->
              <img src="{{ url_for('static', filename='images/profile-picture.png') }}">
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
  </div>

{% endblock %}
